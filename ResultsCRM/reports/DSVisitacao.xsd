<?xml version="1.0" encoding="utf-8"?>
<xs:schema id="DataSet" targetNamespace="http://tempuri.org/DataSet.xsd" xmlns:mstns="http://tempuri.org/DataSet.xsd" xmlns="http://tempuri.org/DataSet.xsd" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata" xmlns:msprop="urn:schemas-microsoft-com:xml-msprop" attributeFormDefault="qualified" elementFormDefault="qualified">
  <xs:annotation>
    <xs:appinfo source="urn:schemas-microsoft-com:xml-msdatasource">
      <DataSource DefaultConnectionIndex="0" FunctionsComponentName="QueriesTableAdapter" Modifier="AutoLayout, AnsiClass, Class, Public" SchemaSerializationMode="IncludeSchema" xmlns="urn:schemas-microsoft-com:xml-msdatasource">
        <Connections>
          <Connection AppSettingsObjectName="Web.config" AppSettingsPropertyName="ConnectionString" ConnectionStringObject="" IsAppSettingsProperty="true" Modifier="Assembly" Name="ConnectionString (Web.config)" PropertyReference="AppConfig.System.Configuration.ConfigurationManager.0.ConnectionStrings.ConnectionString.ConnectionString" Provider="System.Data.Odbc" />
        </Connections>
        <Tables>
          <TableAdapter BaseClass="System.ComponentModel.Component" DataAccessorModifier="AutoLayout, AnsiClass, Class, Public" DataAccessorName="visitacaoTableAdapter" GeneratorDataComponentClassName="visitacaoTableAdapter" Name="visitacao" UserDataComponentName="visitacaoTableAdapter">
            <MainSource>
              <DbSource ConnectionRef="ConnectionString (Web.config)" DbObjectType="Unknown" FillMethodModifier="Public" FillMethodName="Fill" GenerateMethods="Both" GenerateShortCommands="false" GeneratorGetMethodName="GetData" GeneratorSourceName="Fill" GetMethodModifier="Public" GetMethodName="GetData" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="false" UserGetMethodName="GetData" UserSourceName="Fill">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>SELECT        v.empresa, v.estabelecimento, v.seq_visita, v.cod_representante, r.nome AS nome_representante, v.cod_emitente, v.cnpj, c.nome AS nome_cliente, v.data_visita, v.situacao, 
              CASE v.situacao WHEN 1 THEN 'Agendada' WHEN 2 THEN 'Concluída' WHEN 3 THEN 'Cancelada' END AS situacao_nome, v.titulo, v.narrativa
FROM          results.visitacao v, results.emitente c, results.emitente r
WHERE         c.cod_emitente = v.cod_emitente AND
              r.cod_emitente = v.cod_representante AND
              v.empresa = ? AND
              v.estabelecimento = ? AND
              ( ? IS NULL OR v.seq_visita = ?) AND
              ( ? IS NULL OR v.cod_emitente = ?) AND
              (? IS NULL OR c.nome LIKE '%' + replace(?, '+', '%') + '%') AND
              ((? IS NULL AND ? IS NULL) OR v.data_visita BETWEEN ? AND ?) AND
              (? IS NULL OR v.situacao = ?) AND
              (? IS NULL OR v.cod_representante = ?)
ORDER BY v.data_visita, nome_cliente, v.seq_visita</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="true" AutogeneratedName="Param1" ColumnName="empresa" DataSourceName="visitacao" DataTypeServer="integer" DbType="Int32" Direction="Input" ParameterName="empresa" Precision="0" Scale="0" Size="0" SourceColumn="empresa" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="Param2" ColumnName="estabelecimento" DataSourceName="visitacao" DataTypeServer="integer" DbType="Int32" Direction="Input" ParameterName="estabelecimento" Precision="0" Scale="0" Size="0" SourceColumn="estabelecimento" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="Param3" ColumnName="seq_visita" DataSourceName="visitacao" DataTypeServer="integer" DbType="Int64" Direction="Input" ParameterName="seq_visita" Precision="0" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="seq_visita" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="Param4" ColumnName="seq_visita" DataSourceName="visitacao" DataTypeServer="integer" DbType="Int64" Direction="Input" ParameterName="seq_visita1" Precision="0" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="seq_visita" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="Param5" ColumnName="cod_emitente" DataSourceName="visitacao" DataTypeServer="numeric" DbType="Int64" Direction="Input" ParameterName="cod_emitente" Precision="0" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="cod_emitente" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="Param6" ColumnName="cod_emitente" DataSourceName="visitacao" DataTypeServer="numeric" DbType="Int64" Direction="Input" ParameterName="cod_emitente1" Precision="0" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="cod_emitente" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="Param7" ColumnName="nome" DataSourceName="emitente" DataTypeServer="varchar" DbType="AnsiString" Direction="Input" ParameterName="nome" Precision="0" ProviderType="VarChar" Scale="0" Size="1024" SourceColumn="nome_cliente" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="Param8" ColumnName="nome" DataSourceName="emitente" DataTypeServer="varchar" DbType="AnsiString" Direction="Input" ParameterName="nome1" Precision="0" ProviderType="VarChar" Scale="0" Size="1024" SourceColumn="nome_cliente" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="Param9" ColumnName="data_visita" DataSourceName="visitacao" DataTypeServer="date" DbType="Date" Direction="Input" ParameterName="data_visita" Precision="0" ProviderType="Date" Scale="0" Size="0" SourceColumn="data_visita" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="Param10" ColumnName="data_visita" DataSourceName="visitacao" DataTypeServer="date" DbType="Date" Direction="Input" ParameterName="data_visita1" Precision="0" ProviderType="Date" Scale="0" Size="0" SourceColumn="data_visita" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="Param11" ColumnName="data_visita" DataSourceName="visitacao" DataTypeServer="date" DbType="Date" Direction="Input" ParameterName="data_visita2" Precision="0" ProviderType="Date" Scale="0" Size="0" SourceColumn="data_visita" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="Param12" ColumnName="data_visita" DataSourceName="visitacao" DataTypeServer="date" DbType="Date" Direction="Input" ParameterName="data_visita3" Precision="0" ProviderType="Date" Scale="0" Size="0" SourceColumn="data_visita" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="Param13" ColumnName="situacao" DataSourceName="visitacao" DataTypeServer="integer" DbType="Int16" Direction="Input" ParameterName="situacao" Precision="0" ProviderType="SmallInt" Scale="0" Size="0" SourceColumn="situacao" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="Param14" ColumnName="situacao" DataSourceName="visitacao" DataTypeServer="integer" DbType="Int16" Direction="Input" ParameterName="situacao1" Precision="0" ProviderType="SmallInt" Scale="0" Size="0" SourceColumn="situacao" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="Param15" ColumnName="cod_representante" DataSourceName="visitacao" DataTypeServer="numeric" DbType="Int64" Direction="Input" ParameterName="cod_representante" Precision="0" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="cod_representante" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="Param16" ColumnName="cod_representante" DataSourceName="visitacao" DataTypeServer="numeric" DbType="Int64" Direction="Input" ParameterName="cod_representante1" Precision="6" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="cod_representante" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
            </MainSource>
            <Mappings>
              <Mapping SourceColumn="empresa" DataSetColumn="empresa" />
              <Mapping SourceColumn="estabelecimento" DataSetColumn="estabelecimento" />
              <Mapping SourceColumn="seq_visita" DataSetColumn="seq_visita" />
              <Mapping SourceColumn="cod_emitente" DataSetColumn="cod_emitente" />
              <Mapping SourceColumn="cnpj" DataSetColumn="cnpj" />
              <Mapping SourceColumn="data_visita" DataSetColumn="data_visita" />
              <Mapping SourceColumn="situacao" DataSetColumn="situacao" />
              <Mapping SourceColumn="titulo" DataSetColumn="titulo" />
              <Mapping SourceColumn="narrativa" DataSetColumn="narrativa" />
              <Mapping SourceColumn="cod_representante" DataSetColumn="cod_representante" />
              <Mapping SourceColumn="nome_representante" DataSetColumn="nome_representante" />
              <Mapping SourceColumn="nome_cliente" DataSetColumn="nome_cliente" />
              <Mapping SourceColumn="situacao_nome" DataSetColumn="situacao_nome" />
            </Mappings>
            <Sources />
          </TableAdapter>
        </Tables>
        <Sources />
      </DataSource>
    </xs:appinfo>
  </xs:annotation>
  <xs:element name="DataSet" msdata:IsDataSet="true" msdata:UseCurrentLocale="true" msprop:EnableTableAdapterManager="True" msprop:Generator_DataSetName="DataSet" msprop:Generator_UserDSName="DataSet">
    <xs:complexType>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element name="visitacao" msprop:Generator_TableClassName="visitacaoDataTable" msprop:Generator_TableVarName="tablevisitacao" msprop:Generator_TablePropName="visitacao" msprop:Generator_RowDeletingName="visitacaoRowDeleting" msprop:Generator_RowChangingName="visitacaoRowChanging" msprop:Generator_RowEvHandlerName="visitacaoRowChangeEventHandler" msprop:Generator_RowDeletedName="visitacaoRowDeleted" msprop:Generator_UserTableName="visitacao" msprop:Generator_RowChangedName="visitacaoRowChanged" msprop:Generator_RowEvArgName="visitacaoRowChangeEvent" msprop:Generator_RowClassName="visitacaoRow">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="empresa" msprop:Generator_ColumnVarNameInTable="columnempresa" msprop:Generator_ColumnPropNameInRow="empresa" msprop:Generator_ColumnPropNameInTable="empresaColumn" msprop:Generator_UserColumnName="empresa" type="xs:int" />
              <xs:element name="estabelecimento" msprop:Generator_ColumnVarNameInTable="columnestabelecimento" msprop:Generator_ColumnPropNameInRow="estabelecimento" msprop:Generator_ColumnPropNameInTable="estabelecimentoColumn" msprop:Generator_UserColumnName="estabelecimento" type="xs:int" />
              <xs:element name="seq_visita" msprop:Generator_ColumnVarNameInTable="columnseq_visita" msprop:Generator_ColumnPropNameInRow="seq_visita" msprop:Generator_ColumnPropNameInTable="seq_visitaColumn" msprop:Generator_UserColumnName="seq_visita" type="xs:int" />
              <xs:element name="cod_emitente" msprop:Generator_ColumnVarNameInTable="columncod_emitente" msprop:Generator_ColumnPropNameInRow="cod_emitente" msprop:Generator_ColumnPropNameInTable="cod_emitenteColumn" msprop:Generator_UserColumnName="cod_emitente" type="xs:decimal" />
              <xs:element name="cnpj" msprop:Generator_ColumnVarNameInTable="columncnpj" msprop:Generator_ColumnPropNameInRow="cnpj" msprop:Generator_ColumnPropNameInTable="cnpjColumn" msprop:Generator_UserColumnName="cnpj">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="20" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="data_visita" msprop:Generator_ColumnVarNameInTable="columndata_visita" msprop:Generator_ColumnPropNameInRow="data_visita" msprop:Generator_ColumnPropNameInTable="data_visitaColumn" msprop:Generator_UserColumnName="data_visita" type="xs:dateTime" />
              <xs:element name="situacao" msprop:Generator_ColumnVarNameInTable="columnsituacao" msprop:Generator_ColumnPropNameInRow="situacao" msprop:Generator_ColumnPropNameInTable="situacaoColumn" msprop:Generator_UserColumnName="situacao" type="xs:int" />
              <xs:element name="titulo" msprop:Generator_ColumnVarNameInTable="columntitulo" msprop:Generator_ColumnPropNameInRow="titulo" msprop:Generator_ColumnPropNameInTable="tituloColumn" msprop:Generator_UserColumnName="titulo">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="narrativa" msprop:Generator_ColumnVarNameInTable="columnnarrativa" msprop:Generator_ColumnPropNameInRow="narrativa" msprop:Generator_ColumnPropNameInTable="narrativaColumn" msprop:Generator_UserColumnName="narrativa">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="2000000000" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="cod_representante" msprop:Generator_ColumnVarNameInTable="columncod_representante" msprop:Generator_ColumnPropNameInRow="cod_representante" msprop:Generator_ColumnPropNameInTable="cod_representanteColumn" msprop:Generator_UserColumnName="cod_representante" type="xs:decimal" />
              <xs:element name="nome_representante" msprop:Generator_ColumnVarNameInTable="columnnome_representante" msprop:Generator_ColumnPropNameInRow="nome_representante" msprop:Generator_ColumnPropNameInTable="nome_representanteColumn" msprop:Generator_UserColumnName="nome_representante">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="80" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="nome_cliente" msprop:Generator_ColumnVarNameInTable="columnnome_cliente" msprop:Generator_ColumnPropNameInRow="nome_cliente" msprop:Generator_ColumnPropNameInTable="nome_clienteColumn" msprop:Generator_UserColumnName="nome_cliente">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="80" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="situacao_nome" msdata:ReadOnly="true" msprop:Generator_ColumnVarNameInTable="columnsituacao_nome" msprop:Generator_ColumnPropNameInRow="situacao_nome" msprop:Generator_ColumnPropNameInTable="situacao_nomeColumn" msprop:Generator_UserColumnName="situacao_nome" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="9" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:choice>
    </xs:complexType>
    <xs:unique name="Constraint1" msdata:PrimaryKey="true">
      <xs:selector xpath=".//mstns:visitacao" />
      <xs:field xpath="mstns:empresa" />
      <xs:field xpath="mstns:estabelecimento" />
      <xs:field xpath="mstns:seq_visita" />
    </xs:unique>
  </xs:element>
</xs:schema>